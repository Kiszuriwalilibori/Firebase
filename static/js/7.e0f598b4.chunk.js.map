{"version":3,"sources":["js/THUNKS/submitFigure.js","components/PersonsTable/AddPersonButton.jsx","components/PersonsTable/AddPersonForm.jsx","components/PersonsTable/PersonsTableHeader.jsx","components/App.jsx","js/THUNKS/loadData.js","styles/style.js","js/FUNCTIONS/firebase.js"],"names":["submitFigure","notDuplicate","redirect","data","dispatch","getState","itemsRef","push","error","showError","message","toggleSubmit","setTimeout","hideAddedUserMessage","submitUser","showWarning","AddPersonButton","connect","state","disabled","submitDisabled","props","btn","type","id","AddPersonForm","withRouter","user","input","useRef","history","useState","inputName","setInputName","inputEmail","setInputEmail","ResetText","dangerMessage","React","useMemo","ROUTES","loading","home","useEffect","current","focus","outerWrapper","onSubmit","e","preventDefault","orderByChild","equalTo","once","snapshot","isNotDuplicate","exists","name","email","displayName","innerWrapper","required","minLength","maxLength","pattern","placeholder","ref","value","onChange","target","inputWrapper","resetWrapper","onClick","propTypes","PropTypes","func","PersonsTableHeader","isHiddenAddUserButton","isHiddenAddedUserMsg","isHiddenInputForm","isNotLimitReached","onAddUser","showAddUserForm","AddUserButton","iconCross","btnText","btn_disabled","wrapper","successMessage","iconCheck","iconLimit","bool","AlertBox","lazy","Loader","PersonsTableContent","LoginSection","PersonsTableSortArea","UserInfoCard","MessageBox","App","isError","errorMessage","isLoading","login","hideError","load","x","connectedRef","on","snap","val","showMessage","toggleSpinner","property","y","column","columnSortBy","getDataDone","sortFigures","Object","values","isSortDescending","auth","onAuthStateChanged","Fragment","fallback","EmptyLoader","visible","Fade","in","timeout","tableWrapper","table","styled","div","button","btn_dis","app_","main","logo_","header","page","a","attrs","href","rel","overhead_","span","className","input_","form","header_","thead","sectionStyle","th","section","children","rows_","emailCell","middleAligned","td","middleAlignedTop","circle","iconTimes","createGlobalStyle","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","provider","GoogleAuthProvider"],"mappings":"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","file":"static/js/7.e0f598b4.chunk.js","sourcesContent":["import {\r\n  hideAddedUserMessage,\r\n  submitUser,\r\n  showError,\r\n  showWarning,\r\n  toggleSubmit,\r\n} from \"../ACTIONS/actions\";\r\nimport { itemsRef } from \"../FUNCTIONS/firebase\";\r\n\r\nfunction submitFigure(notDuplicate, redirect, data) {\r\n  return (dispatch, getState) => {\r\n    if (notDuplicate) {\r\n      itemsRef.push(data, function (error) {\r\n        if (error) {\r\n          dispatch(showError(error.message));\r\n          redirect.error();\r\n          dispatch(toggleSubmit());\r\n        } else {\r\n          setTimeout(function () {\r\n            dispatch(hideAddedUserMessage());\r\n          }, 3000);\r\n          dispatch(submitUser(data));\r\n          dispatch(toggleSubmit());\r\n        }\r\n      });\r\n    } else {\r\n      dispatch(showWarning(\"Użytkownik o tym e-mailu jest już zarejestrowany\"));\r\n      dispatch(toggleSubmit());\r\n    }\r\n  };\r\n}\r\n\r\nexport default submitFigure;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { input_ } from \"../../styles/style\";\r\nfunction _AddPersonButton(props) {\r\n  const { disabled } = props;\r\n  return (\r\n    <input_.btn type=\"submit\" id=\"SubmitButton\" disabled={disabled}>\r\n      <span>Submit</span>\r\n    </input_.btn>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  disabled: state.submitDisabled,\r\n});\r\n\r\nconst AddPersonButton = connect(mapStateToProps, null)(_AddPersonButton);\r\n\r\nexport default AddPersonButton;\r\n","import React, { useState, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport {\n  showError,\n  hideAddedUserMessage,\n  showWarning,\n  toggleSubmit,\n} from \"../../js/ACTIONS/actions\";\nimport * as ROUTES from \"../../js/ROUTES/routes\";\nimport { input_ } from \"../../styles/style\";\nimport { itemsRef } from \"../../js/FUNCTIONS/firebase\";\nimport submitFigure from \"../../js/THUNKS/submitFigure\";\nimport AddPersonButton from \"./AddPersonButton\";\n\nfunction _AddPersonForm(props) {\n  const input = useRef(null);\n  const { user, history, submitFigure, showWarning, toggleSubmit } = props;\n  let [inputName, setInputName] = useState(\"\");\n  let [inputEmail, setInputEmail] = useState(\"\");\n  const ResetText = () => (\n    <input_.dangerMessage>\n      <u> Reset Fields</u>\n    </input_.dangerMessage>\n  );\n\n  const redirect = React.useMemo(\n    () => ({\n      error: () => {\n        history.push(ROUTES.ERROR);\n      },\n      loading: () => {\n        history.push(ROUTES.CONNECT);\n      },\n      home: () => {\n        history.push(ROUTES.HOME);\n      },\n    }),\n    [history]\n  );\n\n  const handleResetFields = () => {\n    setInputName((inputName = \"\"));\n    setInputEmail((inputEmail = \"\"));\n  };\n  const isResetFieldsHidden = () => !!(inputName === \"\" && inputEmail === \"\");\n  const submit = (e) => {\n    e.preventDefault();\n    if (user) {\n      toggleSubmit();\n      itemsRef\n        .orderByChild(\"email\")\n        .equalTo(inputEmail)\n        .once(\"value\", (snapshot) => {\n          const isNotDuplicate = !snapshot.exists();\n          submitFigure(isNotDuplicate, redirect, {\n            name: inputName,\n            email: inputEmail,\n            user: user.displayName || user.email,\n          });\n        });\n    } else {\n      showWarning(\"Tylko zalogowani uzytkownicy mogą dodawać postacie\");\n    }\n  };\n\n  useEffect(() => input.current.focus(), [input]);\n  return (\n    <input_.outerWrapper onSubmit={submit}>\n      <input_.innerWrapper>\n        <input_.input\n          required\n          minLength=\"2\"\n          maxLength=\"20\"\n          pattern=\"[a-zA-ZąĄććęęłŁńŃóÓśŚżŻŹŹ ]+\"\n          placeholder=\"Name...\"\n          type=\"text\"\n          ref={input}\n          value={inputName}\n          onChange={(e) => setInputName((inputName = e.target.value))}\n        />\n      </input_.innerWrapper>\n      <input_.inputWrapper>\n        <input_.input\n          required\n          minLength=\"2\"\n          pattern=\"[^@\\s]+@[^@\\s]+\\.[^@\\s]+\"\n          placeholder=\"Email...\"\n          type=\"text\"\n          value={inputEmail}\n          onChange={(e) => setInputEmail((inputEmail = e.target.value))}\n        />\n      </input_.inputWrapper>\n      {/* <input_.btn type=\"submit\" id=\"SubmitButton\" disabled={false}>\n        <span>Submit</span>\n      </input_.btn> */}\n      <AddPersonButton />\n      {!isResetFieldsHidden() && (\n        <input_.resetWrapper onClick={handleResetFields}>\n          <ResetText />\n        </input_.resetWrapper>\n      )}\n    </input_.outerWrapper>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  showWarning: (data) => {\n    dispatch(showWarning(data));\n  },\n  showError: (data) => {\n    dispatch(showError(data));\n  },\n  hideAddedUserMessage: () => {\n    dispatch(hideAddedUserMessage());\n  },\n  submitFigure: (notDuplicate, redirect, data) => {\n    dispatch(submitFigure(notDuplicate, redirect, data));\n  },\n  toggleSubmit: () => {\n    dispatch(toggleSubmit());\n  },\n});\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n});\n\nconst AddPersonForm = withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(_AddPersonForm)\n);\n\nexport default AddPersonForm;\n\nAddPersonForm.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","// icomoon na styled\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport AddPersonForm from \"./AddPersonForm\";\nimport { showAddUserForm } from \"../../js/ACTIONS/actions\";\nimport { overhead_ } from \"../../styles/style\";\n\nconst _PersonsTableHeader = (props) => {\n  const {\n    isHiddenAddUserButton,\n    isHiddenAddedUserMsg,\n    isHiddenInputForm,\n    isNotLimitReached,\n    onAddUser,\n  } = props;\n\n  const AddUserButton = () =>\n    isNotLimitReached ? (\n      <overhead_.btn\n        id=\"AddUserButton\"\n        type=\"button\"\n        onClick={isNotLimitReached ? onAddUser : function () {}}\n      >\n        <overhead_.iconCross />\n        <overhead_.btnText>Add User</overhead_.btnText>\n      </overhead_.btn>\n    ) : (\n      <overhead_.btn_disabled>\n        <overhead_.iconCross />\n        <overhead_.btnText>Add User</overhead_.btnText>\n      </overhead_.btn_disabled>\n    );\n\n  return (\n    <overhead_.wrapper>\n      {!isHiddenAddUserButton && <AddUserButton />}\n\n      {!isHiddenAddedUserMsg && (\n        <overhead_.successMessage>\n          <overhead_.iconCheck />\n          <span> You have succesfully added an user </span>\n        </overhead_.successMessage>\n      )}\n\n      {!isHiddenInputForm && <AddPersonForm />}\n\n      {!isNotLimitReached && (\n        <overhead_.dangerMessage>\n          <overhead_.iconLimit />\n          <span> You have reached the limit</span>\n        </overhead_.dangerMessage>\n      )}\n    </overhead_.wrapper>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isHiddenAddUserButton: state.isHiddenAddUserButton,\n  isHiddenAddedUserMsg: state.isHiddenAddedUserMsg,\n  isHiddenInputForm: state.isHiddenInputForm,\n  isNotLimitReached: state.isNotLimitReached,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onAddUser: () => dispatch(showAddUserForm()),\n});\n\nconst PersonsTableHeader = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(_PersonsTableHeader);\n\nPersonsTableHeader.propTypes = {\n  isHiddenAddUserButton: PropTypes.bool,\n  isHiddenInputForm: PropTypes.bool,\n  isNotLimitReached: PropTypes.bool,\n  onAddUser: PropTypes.func,\n};\n\nexport default PersonsTableHeader;\n","import React, { useEffect, lazy, Suspense } from \"react\";\nimport { connect } from \"react-redux\";\nimport { login, hideError } from \"../js/ACTIONS/actions\";\nimport { Fade } from \"@material-ui/core\";\nimport PersonsTableHeader from \"./PersonsTable/PersonsTableHeader\";\nimport { load } from \"../js/THUNKS/loadData\";\nimport { app_ } from \"../styles/style\";\nimport EmptyLoader from \"./EmptyLoader\";\nimport * as ROUTES from \"../js/ROUTES/routes\";\nconst AlertBox = lazy(() => import(\"./AlertBox\"));\nconst Loader = lazy(() => import(\"./Loader\"));\nconst PersonsTableContent = lazy(() =>\n  import(\"./PersonsTable/PersonsTableContent\")\n);\nconst LoginSection = lazy(() => import(\"./LoginSection\"));\nconst PersonsTableSortArea = lazy(() =>\n  import(\"./PersonsTable/PersonsTableSortArea\")\n);\nconst UserInfoCard = lazy(() => import(\"./UserInfoCard\"));\nconst MessageBox = lazy(() => import(\"./MessageBox\"));\n\nfunction _App(props) {\n  const { isLoading, user, load, history } = { ...props };\n\n  const redirect = React.useMemo(\n    () => ({\n      error: () => {\n        history.push(ROUTES.ERROR);\n      },\n      loading: () => {\n        history.push(ROUTES.CONNECT);\n      },\n      home: () => {\n        history.push(ROUTES.HOME);\n      },\n    }),\n    []\n  );\n\n  useEffect(() => {\n    load(redirect);\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Suspense fallback={EmptyLoader()}>\n        <AlertBox />\n        <UserInfoCard user={user} />\n        <Loader visible={isLoading} />\n        <app_.App>\n          <LoginSection />\n          <Fade in={true} timeout={2000}>\n            <app_.tableWrapper>\n              <PersonsTableHeader />\n              <app_.table>\n                <PersonsTableSortArea />\n                <PersonsTableContent />\n              </app_.table>\n            </app_.tableWrapper>\n          </Fade>\n        </app_.App>\n        <MessageBox />\n      </Suspense>\n    </React.Fragment>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  isError: state.isError,\n  errorMessage: state.errorMessage,\n  isLoading: state.isLoading,\n  user: state.user,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    login: (data) => dispatch(login(data)),\n    hideError: () => dispatch(hideError()),\n    load: (x) => dispatch(load(x)),\n  };\n}\nconst App = connect(mapStateToProps, mapDispatchToProps)(_App);\n\nexport default App;\n","import {\r\n  getDataDone,\r\n  login,\r\n  showError,\r\n  toggleSpinner,\r\n  showMessage,\r\n} from \"../ACTIONS/actions\";\r\nimport { itemsRef, auth, connectedRef } from \"../FUNCTIONS/firebase\";\r\nimport { sortFigures } from \"../FUNCTIONS/functions\";\r\n\r\nexport function load(redirect, history) {\r\n  return (dispatch, getState) => {\r\n    connectedRef.on(\"value\", function (snap) {\r\n      if (snap.val() === true) {\r\n        dispatch(\r\n          showMessage(\"Ustanowiono lub przywrócono połączenie z bazą danych\")\r\n        );\r\n      } else {\r\n        dispatch(\r\n          showError(\r\n            \"W tej chwili nie masz połączenia z bazą. Wskazane jest abyś nie wykonywał operacji zapisu i odczytu, gdyż mają one wyłacznie lokalny zasięg i nie zmieniają bazy\"\r\n          )\r\n        );\r\n        redirect.error();\r\n      }\r\n    });\r\n\r\n    dispatch(toggleSpinner());\r\n    redirect.loading(); // ale nadal przy pierwszym właczeniu bez internetu kręci się kręcioł bez końca może jednak trza zrobić tak: jeżeli zaskoczy snapshot jak poniżej to gasi settimeouta który w innej sytuacji wybije error po czasie\r\n    itemsRef.on(\r\n      \"value\",\r\n      (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (!data) {\r\n          //prevents reading empty database\r\n          dispatch(\r\n            showError(\"Baza jest pusta lub wystąpił problem z połączeniem\")\r\n          );\r\n          redirect.error();\r\n          return;\r\n        }\r\n\r\n        for (let property in data) {\r\n          const x = data[property];\r\n          const y = [property];\r\n          y[1] = x.name;\r\n          y[2] = x.email;\r\n          y[3] = x.user;\r\n\r\n          data[property] = y;\r\n        }\r\n        const column = getState().columnSortBy;\r\n        if (column) {\r\n          dispatch(\r\n            getDataDone(\r\n              sortFigures(\r\n                Object.values(data),\r\n                getState().isSortDescending,\r\n                column\r\n              )\r\n            )\r\n          );\r\n        } else {\r\n          if (data) {\r\n            dispatch(getDataDone(Object.values(data)));\r\n          } /*else{dispatch(getDataDone(null));} */ //if by mistake all is removed sending null is a sort of service entry\r\n        }\r\n        dispatch(toggleSpinner());\r\n        redirect.home();\r\n      },\r\n      (error) => {\r\n        showError(error);\r\n        redirect.error();\r\n      }\r\n    );\r\n\r\n    auth.onAuthStateChanged((user) => {\r\n      user && dispatch(login(user));\r\n    });\r\n  };\r\n}\r\n","import styled, { createGlobalStyle } from 'styled-components';\nimport React from 'react';\n\nconst overheaderColor ='#495F75';\nconst colorUnamo = 'rgb(0, 193, 179)';\nconst colorSuccess = '#39ff14';\nconst colorSailorBlue ='#495F75';\nconst colorMint ='#C2F1DB';\nconst inputBorderColor = '#C2F1DB';\nconst circleSize = '30px';\nconst circleBackground = '#FBEA58';\nconst circleText = '#5A5D50';\nconst message = styled.div`margin 0 1rem; color: grey;`;\n\nconst btn = styled.button`\ndisplay: inline-block;\nfont-weight: 700;\ntext-align: center;\nwhite-space: nowrap;\nvertical-align: middle;\nuser-select: none;\nborder: 1px solid #C2F1DB;\npadding: .375rem 3rem;\nmargin: 0.5rem;\nfont-size: 1rem;\nline-height: 1.5;\nborder-radius: .25rem;\noverflow: visible;\ncolor:#C2F1DB;\nbackground-color:transparent;\ncursor: pointer;\ntransition: color .3s ease-in-out,background-color .3s ease-in-out,border-color .3s ease-in-out,box-shadow .3s ease-in-out;\n&:hover{\n  color: #495F75;\n  background-color: #C2F1DB;\n  border-color: transparent;\n}\n\n`;\n\nconst btn_dis = styled(btn)`\nopacity: 0.5;\ncursor: default;\n&:hover{color:gold;background-color:transparent;border-color:gold;}\n`;\n\n\nexport const app_ = {\n  App: styled.div`\n  overflow-y: auto;\n  display: flex;\n  min-height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  padding-top: 20vh;\n  width: 100%;\n  max-width:800px;\n  margin: 0 auto;\n`,\n  tableWrapper: styled.main`\n  width: 96%;\n  border-radius: 0.25rem;\n  border: 1px solid #3c5063;\n  box-shadow: 0 1px 1px rgba(0,0,0,0.15), \n              0 2px 2px rgba(0,0,0,0.15), \n              0 4px 4px rgba(0,0,0,0.15), \n              0 8px 8px rgba(0,0,0,0.15);\n  font-size: 1rem;\n  line-height:1.5;\n  font-family: 'Lato', sans-serif;\n  margin: 1vw 1vw;\n  @media(max-width:569px){ font-size: calc( 12px + 4 * ((100vw - 320px) / 249))}\n\n`,\n  table: styled.table`\nwidth:100%;\noverflow-y: hidden;\noverflow-x: auto;\nbox-shadow: inset 0 1px 1px rgba(200,200,200,0.11);\n\n@media(max-width: 300px){display:block};\n\n@media(min-width: 569px){ overflow-y: visible;}`,\n};\n\nexport const logo_ = {\n  wrapper: styled.header`\ndisplay: flex;\nwidth: 100%;\nflex-direction: row;\njustify-content: space-evenly;\nalign-items: center;\npadding: 4vh 0;\n\n@media(max-width: 568px) {\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n`,\n  page: styled.a.attrs((props) => ({\n    href: 'https://unamo.com/pl/',\n    target: \"_blank\",\n    rel: 'noopener',\n  }))`\n    font-size: 1.5rem;\n    color: ${colorUnamo};\n    font-family: 'Lato', sans-serif;\n    `,\n\n};\n\n\nexport const overhead_ = {\n\n  wrapper: styled.div`\n  display: flex;\n  min-height: 4.2rem;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: ${overheaderColor};\n  border: 0;\n\n  @media(min-width: 569px){\n      flex-direction: row;\n  }\n  \n`,\n\n  successMessage: styled(message)`color: ${colorSuccess}`,\n  dangerMessage: styled(message)`color:${circleBackground}`,\n  btn,\n  btn_disabled: btn_dis,\n  btnText: styled.span`margin-left: 1rem`,\n  iconCheck: () => <span className=\"IcoMoon\">&#xe900;</span>,\n  iconCross: () => <span className=\"IcoMoon\">&#xe902;</span>,\n  iconLimit: () => <span className=\"IcoMoon\">&#xe901;</span>,\n};\n\nexport const input_ = {\n  dangerMessage: styled.span`letter-spacing: 0.08rem; font-weight:700; cursor: pointer;color:${circleBackground}`,\n  input: styled.input`border:0;cursor:pointer; overflow: visible; font-size: 16px; padding: 0.3rem;background-color:${colorMint}; color:${colorSailorBlue}`,\n  resetWrapper: styled.div`display:inline`,\n  innerWrapper: styled.div`display:inline; padding: 0.25rem; margin:0.5rem; border-radius:0.25rem; border: 1px solid ${inputBorderColor};`,\n  inputWrapper: styled.div`display:inline; padding: 0.25rem; margin:0.5rem; border-radius:0.25rem; border: 1px solid ${inputBorderColor};`,\n  outerWrapper: styled.form`\n  display:flex; \n  flex-direction:column; \n  padding:0.5rem; \n  align-items:center; \n  flex-wrap:wrap;\n  @media(min-width: 569px){ flex-direction: row; justify-content:center;}  \n  `,\n  btn,\n};\n\nexport const header_ = {\n  wrapper: styled.thead`background-color:${colorSailorBlue}; color:${colorMint}`,\n  sectionStyle: styled.th`\ncursor: pointer;\ntext-align: left;\n@media(max-width: 568px) {padding 0.75rem 0}\n@media(min-width: 569px) {padding 0.75rem}\n\nvertical-align:top;\nborder-top: 1px solid;\n`,\n  section: (props) => <header_.sectionStyle className=\"icon-Sort\">{props.children}</header_.sectionStyle>,\n};\n\nexport const rows_ = {\n  emailCell: styled.div`display:flex; justify-content: space-between; align-items:center`,\n  middleAligned: styled.td`vertical-align: middle; padding:0.75rem; border-top: 1px solid`,\n  middleAlignedTop: styled.td`vertical-align: top; padding:0.75rem; border-top: 1px solid`,\n  circle: styled.span`\n  text-shadow: 0 -.03rem .03rem;\n  font-weight: 100; \n  width:${circleSize}; \n  height:${circleSize}; \n  color:${circleText}; \n  border: 1px solid; \n  border-radius:50%; \n  display:flex; \n  justify-content:center; \n  align-items: center; \n  background-color:${circleBackground};\n  @media(max-width:569px){ width: calc( 20px + 10 * ((100vw - 320px) / 249)); height:calc( 20px + 10 * ((100vw - 320px) / 249)); }\n  `,\n  // button: styled.button.attrs((props) => ({ type: 'button' }))`background: transparent; border:none;`,\n  button: styled.button.attrs((props) => ({ type: 'button', 'aria-label':'delete' }))`background: transparent; border:none;`,\n  \n  iconTimes: () => <span className=\"icon-Cross\" />,\n};\n\n\nexport const GlobalStyle = createGlobalStyle`\nbody {color: gold; \n}; \n* {box-sizing: border-box}\n\n*{@import url('./styles/App.css');\n\n}\n\n\n\nhtml {\n\n  font-size: 12px;\n  \n  @media \n    (max-width: 330px){ font-size:10px;}\n  @media \n    (min-width: 331px)and (max-width: 568px) { font-size:12px;}\n     \n  @media \n    (min-width: 569px){ font-size:16px;}\n  \n \n\n}\n`;\n\n\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\n\r\nconst config = {\r\n  apiKey: \"AIzaSyDgXLfP7jDz8fFkgSexTngIupiNaabkJSc\",\r\n  authDomain: \"unamo-1dbf1.firebaseapp.com\",\r\n  databaseURL: \"https://unamo-1dbf1.firebaseio.com\",\r\n  projectId: \"unamo-1dbf1\",\r\n  storageBucket: \"unamo-1dbf1.appspot.com\",\r\n  messagingSenderId: \"741997107372\",\r\n  appId: \"1:741997107372:web:66630afae593423b17e709\",\r\n};\r\n\r\nfirebase.initializeApp(config);\r\nvar database = firebase.database();\r\nexport const itemsRef = database.ref(\"items\");\r\nexport const connectedRef = database.ref(\".info/connected\");\r\nexport const provider = new firebase.auth.GoogleAuthProvider();\r\nexport const auth = firebase.auth();\r\nexport default firebase;\r\n"],"sourceRoot":""}