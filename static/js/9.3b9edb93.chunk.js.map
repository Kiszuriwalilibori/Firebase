{"version":3,"sources":["js/THUNKS/submitFigure.js","components/PersonsTable/AddPersonButton.jsx","components/PersonsTable/AddPersonForm.jsx","components/PersonsTable/PersonsTableHeader.jsx","components/App.jsx","js/THUNKS/loadData.js","styles/style.js","js/FUNCTIONS/firebase.js"],"names":["submitFigure","notDuplicate","redirect","data","dispatch","getState","itemsRef","push","error","showError","message","toggleSubmit","setTimeout","hideAddedUserMessage","submitUser","showWarning","AddPersonButton","props","isDisabled","btn","type","id","disabled","connect","state","submitDisabled","AddPersonForm","input","useRef","user","history","React","useMemo","ROUTES","loading","home","useEffect","current","focus","useFormik","initialValues","personEmail","personName","validationSchema","Yup","shape","email","required","min","matches","onSubmit","orderByChild","equalTo","values","once","snapshot","isNotDuplicate","exists","name","displayName","handleSubmit","getFieldProps","handleReset","submitCount","errors","outerWrapper","innerWrapper","minLength","maxLength","pattern","placeholder","ref","inputWrapper","inputName","inputEmail","resetWrapper","onClick","dangerMessage","className","JSON","stringify","substring","length","withRouter","PersonsTableHeader","isHiddenAddUserButton","isHiddenAddedUserMsg","isHiddenInputForm","isNotLimitReached","onAddUser","AddUserButton","iconCross","btnText","btn_disabled","wrapper","successMessage","iconCheck","iconLimit","showAddUserForm","AlertBox","lazy","Loader","PersonsTableContent","LoginSection","PersonsTableSortArea","UserInfoCard","MessageBox","App","isError","errorMessage","isLoading","login","hideError","load","x","connectedRef","on","snap","val","showMessage","toggleSpinner","property","y","column","columnSortBy","getDataDone","sortFigures","Object","isSortDescending","auth","onAuthStateChanged","Fragment","fallback","EmptyLoader","visible","Fade","in","timeout","tableWrapper","table","styled","div","button","btn_dis","Application","main","Logo","header","page","a","attrs","href","target","rel","Overhead","span","Input","form","Header","thead","sectionStyle","th","section","children","Rows","emailCell","middleAligned","td","middleAlignedTop","circle","createGlobalStyle","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","provider","GoogleAuthProvider"],"mappings":"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","file":"static/js/9.3b9edb93.chunk.js","sourcesContent":["import {\r\n  hideAddedUserMessage,\r\n  submitUser,\r\n  showError,\r\n  showWarning,\r\n  toggleSubmit,\r\n} from \"../ACTIONS/actions\";\r\nimport { itemsRef } from \"../FUNCTIONS/firebase\";\r\n\r\nfunction submitFigure(notDuplicate, redirect, data) {\r\n  return (dispatch, getState) => {\r\n    if (notDuplicate) {\r\n      itemsRef.push(data, function (error) {\r\n        if (error) {\r\n          dispatch(showError(error.message));\r\n          redirect.error();\r\n          dispatch(toggleSubmit());\r\n        } else {\r\n          setTimeout(function () {\r\n            dispatch(hideAddedUserMessage());\r\n          }, 3000);\r\n          dispatch(submitUser(data));\r\n          dispatch(toggleSubmit());\r\n        }\r\n      });\r\n    } else {\r\n      dispatch(showWarning(\"Użytkownik o tym e-mailu jest już zarejestrowany\"));\r\n      dispatch(toggleSubmit());\r\n    }\r\n  };\r\n}\r\n\r\nexport default submitFigure;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Input } from \"../../styles/style\";\r\n\r\nlet AddPersonButton = props => {\r\n  const { isDisabled } = props;\r\n  return (\r\n    <Input.btn type=\"submit\" id=\"SubmitButton\" disabled={isDisabled}>\r\n      <span>Submit</span>\r\n    </Input.btn>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isDisabled: state.submitDisabled,\r\n});\r\n\r\nAddPersonButton = connect(mapStateToProps, null)(AddPersonButton);\r\n\r\nexport default AddPersonButton;\r\n\r\nAddPersonButton.propTypes = {\r\n  isDisabled: PropTypes.bool,\r\n};\r\n","import React, { useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { showError, hideAddedUserMessage, showWarning, toggleSubmit } from \"../../js/ACTIONS/actions\";\nimport * as ROUTES from \"../../js/ROUTES/routes\";\nimport { useFormik} from \"formik\";\nimport { Input } from \"../../styles/style\";\nimport { itemsRef } from \"../../js/FUNCTIONS/firebase\";\nimport submitFigure from \"../../js/THUNKS/submitFigure\";\nimport AddPersonButton from \"./AddPersonButton\";\nimport * as Yup from \"yup\";\n\nlet AddPersonForm = props => {\n  const input = useRef(null);\n  const { user, history, submitFigure, showWarning, toggleSubmit } = props;\n  \n  const redirect = React.useMemo(\n    () => ({\n      error: () => {\n        history.push(ROUTES.ERROR);\n      },\n      loading: () => {\n        history.push(ROUTES.CONNECT);\n      },\n      home: () => {\n        history.push(ROUTES.HOME);\n      },\n    }),\n    [history]\n  );\n\n  const isResetFieldsHidden = () => !!(values.inputName === \"\" && values.inputEmail === \"\");\n  useEffect(() => input.current.focus(), [input]);\n\n  const { values, handleSubmit, getFieldProps, handleReset, submitCount, errors } = useFormik({\n    initialValues: {\n      personEmail: \"\",\n      personName: \"\",\n    },\n    validationSchema: Yup.object().shape({\n      personEmail: Yup.string().email(\"Invalid email address\").required(\"Required\"),\n      personName: Yup.string().min(4, \"Must be more than 3 characters\").required(\"Required\").matches(\"[a-zA-ZąĄććęęłŁńŃóÓśŚżŻŹŹ ]+\",\"Invalid characters\"),\n    }),\n    onSubmit() {\n      if (user) {\n        toggleSubmit();\n        itemsRef\n          .orderByChild(\"email\")\n          .equalTo(values.personEmail)\n          .once(\"value\", snapshot => {\n            const isNotDuplicate = !snapshot.exists();\n            submitFigure(isNotDuplicate, redirect, {\n              name: values.personName,\n              email: values.personEmail,\n              user: user.displayName || user.email,\n            });\n          });\n      } else {\n        showWarning(\"Tylko zalogowani uzytkownicy mogą dodawać postacie\");\n      }\n    },\n  });\n\n  return (\n    <Input.outerWrapper onSubmit={handleSubmit}>\n      <Input.innerWrapper>\n        <Input.input required minLength=\"2\" maxLength=\"20\" pattern=\"[a-zA-ZąĄććęęłŁńŃóÓśŚżŻŹŹ ]+\" placeholder=\"Name...\" type=\"text\" ref={input} {...getFieldProps(\"personName\")} />\n      </Input.innerWrapper>\n      <Input.inputWrapper>\n        <Input.input minLength=\"2\" pattern=\"[^@\\s]+@[^@\\s]+\\.[^@\\s]+\" placeholder=\"Email...\" type=\"text\" {...getFieldProps(\"personEmail\")} />\n      </Input.inputWrapper>\n\n      <AddPersonButton />\n      {!isResetFieldsHidden() && (\n        <Input.resetWrapper onClick={handleReset}>\n          <Input.dangerMessage>\n            <u> Reset Fields</u>\n          </Input.dangerMessage>\n        </Input.resetWrapper>\n      )}\n     {submitCount > 0 && errors && <span className ='AddPersonForm__error-message'>{JSON.stringify(errors, null, 2).substring(1,JSON.stringify(errors, null, 2).length-1)}</span>}\n   \n    </Input.outerWrapper>\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  showWarning: data => {\n    dispatch(showWarning(data));\n  },\n  showError: data => {\n    dispatch(showError(data));\n  },\n  hideAddedUserMessage: () => {\n    dispatch(hideAddedUserMessage());\n  },\n  submitFigure: (notDuplicate, redirect, data) => {\n    dispatch(submitFigure(notDuplicate, redirect, data));\n  },\n  toggleSubmit: () => {\n    dispatch(toggleSubmit());\n  },\n});\n\nconst mapStateToProps = state => ({\n  user: state.user,\n});\n\nAddPersonForm = withRouter(connect(mapStateToProps, mapDispatchToProps)(AddPersonForm));\n\nexport default AddPersonForm;\n\nAddPersonForm.propTypes = {\n  onSubmit: PropTypes.func,\n  submitFigure:PropTypes.func,\n  showWarning:PropTypes.func,\n  toggleSubmit:PropTypes.func,\n  user:PropTypes.object,\n  history:PropTypes.object,\n  hideAddedUserMessage:PropTypes.func,\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport AddPersonForm from \"./AddPersonForm\";\nimport { showAddUserForm } from \"../../js/ACTIONS/actions\";\nimport { Overhead } from \"../../styles/style\";\n\nlet PersonsTableHeader = (props) => {\n  const {\n    isHiddenAddUserButton,\n    isHiddenAddedUserMsg,\n    isHiddenInputForm,\n    isNotLimitReached,\n    onAddUser,\n  } = props;\n\n  const AddUserButton = () =>\n    isNotLimitReached ? (\n      <Overhead.btn\n        id=\"AddUserButton\"\n        type=\"button\"\n        onClick={isNotLimitReached ? onAddUser : function () {}}\n      >\n        <Overhead.iconCross />\n        <Overhead.btnText>Add User</Overhead.btnText>\n      </Overhead.btn>\n    ) : (\n      <Overhead.btn_disabled>\n        <Overhead.iconCross />\n        <Overhead.btnText>Add User</Overhead.btnText>\n      </Overhead.btn_disabled>\n    );\n\n  return (\n    <Overhead.wrapper>\n      {!isHiddenAddUserButton && <AddUserButton />}\n\n      {!isHiddenAddedUserMsg && (\n        <Overhead.successMessage>\n          <Overhead.iconCheck />\n          <span> You have succesfully added an user </span>\n        </Overhead.successMessage>\n      )}\n\n      {!isHiddenInputForm && <AddPersonForm />}\n\n      {!isNotLimitReached && (\n        <Overhead.dangerMessage>\n          <Overhead.iconLimit />\n          <span> You have reached the limit</span>\n        </Overhead.dangerMessage>\n      )}\n    </Overhead.wrapper>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isHiddenAddUserButton: state.isHiddenAddUserButton,\n  isHiddenAddedUserMsg: state.isHiddenAddedUserMsg,\n  isHiddenInputForm: state.isHiddenInputForm,\n  isNotLimitReached: state.isNotLimitReached,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onAddUser: () => dispatch(showAddUserForm()),\n});\n\nPersonsTableHeader = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PersonsTableHeader);\n\nPersonsTableHeader.propTypes = {\n  isHiddenAddUserButton: PropTypes.bool,\n  isHiddenAddUserMsg: PropTypes.bool,\n  isHiddenInputForm: PropTypes.bool,\n  isNotLimitReached: PropTypes.bool,\n  onAddUser: PropTypes.func,\n};\n\nexport default PersonsTableHeader;\n\n","import React, { useEffect, lazy, Suspense } from \"react\";\nimport { connect } from \"react-redux\";\nimport { login, hideError } from \"../js/ACTIONS/actions\";\nimport { Fade } from \"@material-ui/core\";\nimport PersonsTableHeader from \"./PersonsTable/PersonsTableHeader\";\nimport { load } from \"../js/THUNKS/loadData\";\nimport { Application } from \"../styles/style\";\nimport EmptyLoader from \"./EmptyLoader\";\nimport * as ROUTES from \"../js/ROUTES/routes\";\n\nconst AlertBox = lazy(() => import(\"./AlertBox\"));\nconst Loader = lazy(() => import(\"./Loader\"));\nconst PersonsTableContent = lazy(() => import(\"./PersonsTable/PersonsTableContent\"));\nconst LoginSection = lazy(() => import(\"./LoginSection\"));\nconst PersonsTableSortArea = lazy(() => import(\"./PersonsTable/PersonsTableSortArea\"));\nconst UserInfoCard = lazy(() => import(\"./UserInfoCard\"));\nconst MessageBox = lazy(() => import(\"./MessageBox\"));\n\nfunction PrepareApp(props) {\n  const { isLoading, user, load, history } = { ...props };\n\n  const redirect = React.useMemo(\n    () => ({\n      error: () => {\n        history.push(ROUTES.ERROR);\n      },\n      loading: () => {\n        history.push(ROUTES.CONNECT);\n      },\n      home: () => {\n        history.push(ROUTES.HOME);\n      },\n    }),\n    [history]\n  );\n\n  useEffect(() => {\n    load(redirect);\n  }, [load, redirect]);\n\n  return (\n    <React.Fragment>\n      <Suspense fallback={EmptyLoader()}>\n        <AlertBox />\n        <UserInfoCard user={user} />\n        <Loader visible={isLoading} />\n        <Application.App>\n          <LoginSection />\n          <Fade in={true} timeout={2000}>\n            <Application.tableWrapper>\n              <PersonsTableHeader />\n              <Application.table>\n                <PersonsTableSortArea />\n                <PersonsTableContent />\n              </Application.table>\n            </Application.tableWrapper>\n          </Fade>\n        </Application.App>\n        <MessageBox />\n      </Suspense>\n    </React.Fragment>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  isError: state.isError,\n  errorMessage: state.errorMessage,\n  isLoading: state.isLoading,\n  user: state.user,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    login: (data) => dispatch(login(data)),\n    hideError: () => dispatch(hideError()),\n    load: (x) => dispatch(load(x)),\n  };\n}\nconst App = connect(mapStateToProps, mapDispatchToProps)(PrepareApp);\n\nexport default App;\n","import {\r\n  getDataDone,\r\n  login,\r\n  showError,\r\n  toggleSpinner,\r\n  showMessage,\r\n} from \"../ACTIONS/actions\";\r\nimport { itemsRef, auth, connectedRef } from \"../FUNCTIONS/firebase\";\r\nimport { sortFigures } from \"../FUNCTIONS/functions\";\r\n\r\nexport function load(redirect, history) {\r\n  return (dispatch, getState) => {\r\n    connectedRef.on(\"value\", function (snap) {\r\n      if (snap.val() === true) {\r\n        dispatch(\r\n          showMessage(\"Ustanowiono lub przywrócono połączenie z bazą danych\")\r\n        );\r\n      } else {\r\n        dispatch(\r\n          showError(\r\n            \"W tej chwili nie masz połączenia z bazą. Wskazane jest abyś nie wykonywał operacji zapisu i odczytu, gdyż mają one wyłacznie lokalny zasięg i nie zmieniają bazy\"\r\n          )\r\n        );\r\n        redirect.error();\r\n      }\r\n    });\r\n\r\n    dispatch(toggleSpinner());\r\n    redirect.loading(); // ale nadal przy pierwszym właczeniu bez internetu kręci się kręcioł bez końca może jednak trza zrobić tak: jeżeli zaskoczy snapshot jak poniżej to gasi settimeouta który w innej sytuacji wybije error po czasie\r\n    itemsRef.on(\r\n      \"value\",\r\n      (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (!data) {\r\n          //prevents reading empty database\r\n          dispatch(\r\n            showError(\"Baza jest pusta lub wystąpił problem z połączeniem\")\r\n          );\r\n          redirect.error();\r\n          return;\r\n        }\r\n\r\n        for (let property in data) {\r\n          const x = data[property];\r\n          const y = [property];\r\n          y[1] = x.name;\r\n          y[2] = x.email;\r\n          y[3] = x.user;\r\n\r\n          data[property] = y;\r\n        }\r\n        const column = getState().columnSortBy;\r\n        if (column) {\r\n          dispatch(\r\n            getDataDone(\r\n              sortFigures(\r\n                Object.values(data),\r\n                getState().isSortDescending,\r\n                column\r\n              )\r\n            )\r\n          );\r\n        } else {\r\n          if (data) {\r\n            dispatch(getDataDone(Object.values(data)));\r\n          } /*else{dispatch(getDataDone(null));} */ //if by mistake all is removed sending null is a sort of service entry\r\n        }\r\n        dispatch(toggleSpinner());\r\n        redirect.home();\r\n      },\r\n      (error) => {\r\n        showError(error);\r\n        redirect.error();\r\n      }\r\n    );\r\n\r\n    auth.onAuthStateChanged((user) => {\r\n      user && dispatch(login(user));\r\n    });\r\n  };\r\n}\r\n","import styled, { createGlobalStyle } from 'styled-components';\nimport React from 'react';\n\nconst overheaderColor ='#495F75';\nconst colorUnamo = 'rgb(0, 193, 179)';\nconst colorSuccess = '#39ff14';\nconst colorSailorBlue ='#495F75';\nconst colorMint ='#C2F1DB';\nconst inputBorderColor = '#C2F1DB';\nconst circleSize = '30px';\nconst circleBackground = '#FBEA58';\nconst circleText = '#5A5D50';\nconst message = styled.div`margin 0 1rem; color: grey;`;\n\nconst btn = styled.button`\ndisplay: inline-block;\nfont-weight: 700;\ntext-align: center;\nwhite-space: nowrap;\nvertical-align: middle;\nuser-select: none;\nborder: 1px solid #C2F1DB;\npadding: .375rem 3rem;\nmargin: 0.5rem;\nfont-size: 1rem;\nline-height: 1.5;\nborder-radius: .25rem;\noverflow: visible;\ncolor:#C2F1DB;\nbackground-color:transparent;\ncursor: pointer;\ntransition: color .3s ease-in-out,background-color .3s ease-in-out,border-color .3s ease-in-out,box-shadow .3s ease-in-out;\n&:hover, &:focus{\n  color: #495F75;\n  outline:none;\n  background-color: #C2F1DB;\n  border-color: transparent;\n}\n\n`;\n\nconst btn_dis = styled(btn)`\nopacity: 0.5;\ncursor: default;\n&:hover{color:gold;background-color:transparent;border-color:gold;}\n`;\n\n\nexport const Application = {\n  App: styled.div`\n  overflow-y: auto;\n  display: flex;\n  min-height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  padding-top: 20vh;\n  width: 100%;\n  max-width:800px;\n  margin: 0 auto;\n`,\n  tableWrapper: styled.main`\n  width: 96%;\n  border-radius: 0.25rem;\n  border: 1px solid #3c5063;\n  box-shadow: 0 1px 1px rgba(0,0,0,0.15), \n              0 2px 2px rgba(0,0,0,0.15), \n              0 4px 4px rgba(0,0,0,0.15), \n              0 8px 8px rgba(0,0,0,0.15);\n  font-size: 1rem;\n  line-height:1.5;\n  font-family: 'Lato', sans-serif;\n  margin: 1vw 1vw;\n  @media(max-width:569px){ font-size: calc( 12px + 4 * ((100vw - 320px) / 249))}\n\n`,\n  table: styled.table`\nwidth:100%;\noverflow-y: hidden;\noverflow-x: auto;\nbox-shadow: inset 0 1px 1px rgba(200,200,200,0.11);\n\n@media(max-width: 300px){display:block};\n\n@media(min-width: 569px){ overflow-y: visible;}`,\n};\n\nexport const Logo = {\n  wrapper: styled.header`\ndisplay: flex;\nwidth: 100%;\nflex-direction: row;\njustify-content: space-evenly;\nalign-items: center;\npadding: 4vh 0;\n\n@media(max-width: 568px) {\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n`,\n  page: styled.a.attrs((props) => ({\n    href: 'https://unamo.com/pl/',\n    target: \"_blank\",\n    rel: 'noopener',\n  }))`\n    font-size: 1.5rem;\n    color: ${colorUnamo};\n    font-family: 'Lato', sans-serif;\n    `,\n\n};\n\n\nexport const Overhead = {\n\n  wrapper: styled.div`\n  display: flex;\n  min-height: 4.2rem;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: ${overheaderColor};\n  border: 0;\n\n  @media(min-width: 569px){\n      flex-direction: row;\n  }\n  \n`,\n\n  successMessage: styled(message)`color: ${colorSuccess}`,\n  dangerMessage: styled(message)`color:${circleBackground}`,\n  btn,\n  btn_disabled: btn_dis,\n  btnText: styled.span`margin-left: 1rem`,\n  iconCheck: () => <span className=\"IcoMoon\">&#xe900;</span>,\n  iconCross: () => <span className=\"IcoMoon\">&#xe902;</span>,\n  iconLimit: () => <span className=\"IcoMoon\">&#xe901;</span>,\n};\n\nexport const Input = {\n  dangerMessage: styled.span`letter-spacing: 0.08rem; font-weight:700; cursor: pointer;color:${circleBackground}`,\n  input: styled.input`border:0;cursor:pointer; overflow: visible; font-size: 16px; padding: 0.3rem;background-color:${colorMint}; color:${colorSailorBlue}`,\n  resetWrapper: styled.div`display:inline`,\n  innerWrapper: styled.div`display:inline; padding: 0.25rem; margin:0.5rem; border-radius:0.25rem; border: 1px solid ${inputBorderColor};`,\n  inputWrapper: styled.div`display:inline; padding: 0.25rem; margin:0.5rem; border-radius:0.25rem; border: 1px solid ${inputBorderColor};`,\n  outerWrapper: styled.form`\n  display:flex; \n  flex-direction:column; \n  padding:0.5rem; \n  align-items:center; \n  flex-wrap:wrap;\n  @media(min-width: 569px){ flex-direction: row; justify-content:center;}  \n  `,\n  btn,\n};\n\nexport const Header = {\n  wrapper: styled.thead`background-color:${colorSailorBlue}; color:${colorMint}`,\n  sectionStyle: styled.th`\ncursor: pointer;\ntext-align: left;\n@media(max-width: 568px) {padding 0.75rem 0}\n@media(min-width: 569px) {padding 0.75rem}\n\nvertical-align:top;\nborder-top: 1px solid;\n`,\n  section: (props) => <Header.sectionStyle className=\"icon-Sort\">{props.children}</Header.sectionStyle>,\n};\n\nexport const Rows = {\n  emailCell: styled.div`display:flex; justify-content: space-between; align-items:center`,\n  middleAligned: styled.td`vertical-align: middle; padding:0.75rem; border-top: 1px solid`,\n  middleAlignedTop: styled.td`vertical-align: top; padding:0.75rem; border-top: 1px solid`,\n  circle: styled.span`\n  text-shadow: 0 -.03rem .03rem;\n  font-weight: 100; \n  width:${circleSize}; \n  height:${circleSize}; \n  color:${circleText}; \n  border: 1px solid; \n  border-radius:50%; \n  display:flex; \n  justify-content:center; \n  align-items: center; \n  background-color:${circleBackground};\n  @media(max-width:569px){ width: calc( 20px + 10 * ((100vw - 320px) / 249)); height:calc( 20px + 10 * ((100vw - 320px) / 249)); }\n  `,\n  button: styled.button.attrs((props) => ({ type: 'button', 'aria-label':'delete' }))`background: transparent; border-radius:50%; border:none;`,\n};\n\n\nexport const GlobalStyle = createGlobalStyle`\nbody {color: gold; \n}; \n* {box-sizing: border-box}\n\n*{@import url('./styles/App.css');\n\n}\n\n\n\nhtml {\n\n  font-size: 12px;\n  \n  @media \n    (max-width: 330px){ font-size:10px;}\n  @media \n    (min-width: 331px)and (max-width: 568px) { font-size:12px;}\n     \n  @media \n    (min-width: 569px){ font-size:16px;}\n  \n \n\n}\n`;\n\n\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\n\r\nconst config = {\r\n  apiKey: \"AIzaSyDgXLfP7jDz8fFkgSexTngIupiNaabkJSc\",\r\n  authDomain: \"unamo-1dbf1.firebaseapp.com\",\r\n  databaseURL: \"https://unamo-1dbf1.firebaseio.com\",\r\n  projectId: \"unamo-1dbf1\",\r\n  storageBucket: \"unamo-1dbf1.appspot.com\",\r\n  messagingSenderId: \"741997107372\",\r\n  appId: \"1:741997107372:web:66630afae593423b17e709\",\r\n};\r\n\r\nfirebase.initializeApp(config);\r\nvar database = firebase.database();\r\nexport const itemsRef = database.ref(\"items\");\r\nexport const connectedRef = database.ref(\".info/connected\");\r\nexport const provider = new firebase.auth.GoogleAuthProvider();\r\nexport const auth = firebase.auth();\r\nexport default firebase;\r\n"],"sourceRoot":""}