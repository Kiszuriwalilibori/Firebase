(this.webpackJsonpfirebase=this.webpackJsonpfirebase||[]).push([[10],{107:function(e,n,t){"use strict";t.d(n,"a",(function(){return W})),t.d(n,"d",(function(){return L})),t.d(n,"e",(function(){return R})),t.d(n,"c",(function(){return H})),t.d(n,"b",(function(){return q})),t.d(n,"f",(function(){return I}));var r=t(166),a=t(167),i=t(0),o=t.n(i);function c(){const e=Object(r.a)(["\nbody {color: gold; \n}; \n* {box-sizing: border-box}\n\n*{@import url('./styles/App.css');\n\n}\n\n\n\nhtml {\n\n  font-size: 12px;\n  \n  @media \n    (max-width: 330px){ font-size:10px;}\n  @media \n    (min-width: 331px)and (max-width: 568px) { font-size:12px;}\n     \n  @media \n    (min-width: 569px){ font-size:16px;}\n  \n \n\n}\n"]);return c=function(){return e},e}function l(){const e=Object(r.a)(["background: transparent; border-radius:50%; border:none;"]);return l=function(){return e},e}function s(){const e=Object(r.a)(["\n  text-shadow: 0 -.03rem .03rem;\n  font-weight: 100; \n  width:","; \n  height:","; \n  color:","; \n  border: 1px solid; \n  border-radius:50%; \n  display:flex; \n  justify-content:center; \n  align-items: center; \n  background-color:",";\n  @media(max-width:569px){ width: calc( 20px + 10 * ((100vw - 320px) / 249)); height:calc( 20px + 10 * ((100vw - 320px) / 249)); }\n  "]);return s=function(){return e},e}function u(){const e=Object(r.a)(["vertical-align: top; padding:0.75rem; border-top: 1px solid"]);return u=function(){return e},e}function d(){const e=Object(r.a)(["vertical-align: middle; padding:0.75rem; border-top: 1px solid"]);return d=function(){return e},e}function b(){const e=Object(r.a)(["display:flex; justify-content: space-between; align-items:center"]);return b=function(){return e},e}function m(){const e=Object(r.a)(["\ncursor: pointer;\ntext-align: left;\n@media(max-width: 568px) {padding 0.75rem 0}\n@media(min-width: 569px) {padding 0.75rem}\n\nvertical-align:top;\nborder-top: 1px solid;\n"]);return m=function(){return e},e}function p(){const e=Object(r.a)(["background-color:","; color:",""]);return p=function(){return e},e}function f(){const e=Object(r.a)(["\n  display:flex; \n  flex-direction:column; \n  padding:0.5rem; \n  align-items:center; \n  flex-wrap:wrap;\n  @media(min-width: 569px){ flex-direction: row; justify-content:center;}  \n  "]);return f=function(){return e},e}function g(){const e=Object(r.a)(["display:inline; padding: 0.25rem; margin:0.5rem; border-radius:0.25rem; border: 1px solid ",";"]);return g=function(){return e},e}function h(){const e=Object(r.a)(["display:inline; padding: 0.25rem; margin:0.5rem; border-radius:0.25rem; border: 1px solid ",";"]);return h=function(){return e},e}function j(){const e=Object(r.a)(["display:inline"]);return j=function(){return e},e}function x(){const e=Object(r.a)(["border:0;cursor:pointer; overflow: visible; font-size: 16px; padding: 0.3rem;background-color:","; color:",""]);return x=function(){return e},e}function O(){const e=Object(r.a)(["letter-spacing: 0.08rem; font-weight:700; cursor: pointer;color:",""]);return O=function(){return e},e}function w(){const e=Object(r.a)(["margin-left: 1rem"]);return w=function(){return e},e}function y(){const e=Object(r.a)(["color:",""]);return y=function(){return e},e}function E(){const e=Object(r.a)(["color: ",""]);return E=function(){return e},e}function v(){const e=Object(r.a)(["\n  display: flex;\n  min-height: 4.2rem;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: ",";\n  border: 0;\n\n  @media(min-width: 569px){\n      flex-direction: row;\n  }\n  \n"]);return v=function(){return e},e}function z(){const e=Object(r.a)(["\n    font-size: 1.5rem;\n    color: ",";\n    font-family: 'Lato', sans-serif;\n    "]);return z=function(){return e},e}function k(){const e=Object(r.a)(["\ndisplay: flex;\nwidth: 100%;\nflex-direction: row;\njustify-content: space-evenly;\nalign-items: center;\npadding: 4vh 0;\n\n@media(max-width: 568px) {\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n"]);return k=function(){return e},e}function A(){const e=Object(r.a)(["\nwidth:100%;\noverflow-y: hidden;\noverflow-x: auto;\nbox-shadow: inset 0 1px 1px rgba(200,200,200,0.11);\n\n@media(max-width: 300px){display:block};\n\n@media(min-width: 569px){ overflow-y: visible;}"]);return A=function(){return e},e}function F(){const e=Object(r.a)(["\n  width: 96%;\n  border-radius: 0.25rem;\n  border: 1px solid #3c5063;\n  box-shadow: 0 1px 1px rgba(0,0,0,0.15), \n              0 2px 2px rgba(0,0,0,0.15), \n              0 4px 4px rgba(0,0,0,0.15), \n              0 8px 8px rgba(0,0,0,0.15);\n  font-size: 1rem;\n  line-height:1.5;\n  font-family: 'Lato', sans-serif;\n  margin: 1vw 1vw;\n  @media(max-width:569px){ font-size: calc( 12px + 4 * ((100vw - 320px) / 249))}\n\n"]);return F=function(){return e},e}function C(){const e=Object(r.a)(["\n  overflow-y: auto;\n  display: flex;\n  min-height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  padding-top: 20vh;\n  width: 100%;\n  max-width:800px;\n  margin: 0 auto;\n"]);return C=function(){return e},e}function B(){const e=Object(r.a)(["\nopacity: 0.5;\ncursor: default;\n&:hover{color:gold;background-color:transparent;border-color:gold;}\n"]);return B=function(){return e},e}function M(){const e=Object(r.a)(["\ndisplay: inline-block;\nfont-weight: 700;\ntext-align: center;\nwhite-space: nowrap;\nvertical-align: middle;\nuser-select: none;\nborder: 1px solid #C2F1DB;\npadding: .375rem 3rem;\nmargin: 0.5rem;\nfont-size: 1rem;\nline-height: 1.5;\nborder-radius: .25rem;\noverflow: visible;\ncolor:#C2F1DB;\nbackground-color:transparent;\ncursor: pointer;\ntransition: color .3s ease-in-out,background-color .3s ease-in-out,border-color .3s ease-in-out,box-shadow .3s ease-in-out;\n&:hover, &:focus{\n  color: #495F75;\n  outline:none;\n  background-color: #C2F1DB;\n  border-color: transparent;\n}\n\n"]);return M=function(){return e},e}function N(){const e=Object(r.a)(["margin 0 1rem; color: grey;"]);return N=function(){return e},e}const S=a.b.div(N()),D=a.b.button(M()),U=Object(a.b)(D)(B()),W={App:a.b.div(C()),tableWrapper:a.b.main(F()),table:a.b.table(A())},L={wrapper:a.b.header(k()),page:a.b.a.attrs(e=>({href:"https://unamo.com/pl/",target:"_blank",rel:"noopener"}))(z(),"rgb(0, 193, 179)")},R={wrapper:a.b.div(v(),"#495F75"),successMessage:Object(a.b)(S)(E(),"#39ff14"),dangerMessage:Object(a.b)(S)(y(),"#FBEA58"),btn:D,btn_disabled:U,btnText:a.b.span(w()),iconCheck:()=>o.a.createElement("span",{className:"IcoMoon"},"\ue900"),iconCross:()=>o.a.createElement("span",{className:"IcoMoon"},"\ue902"),iconLimit:()=>o.a.createElement("span",{className:"IcoMoon"},"\ue901")},H={dangerMessage:a.b.span(O(),"#FBEA58"),input:a.b.input(x(),"#C2F1DB","#495F75"),resetWrapper:a.b.div(j()),innerWrapper:a.b.div(h(),"#C2F1DB"),inputWrapper:a.b.div(g(),"#C2F1DB"),outerWrapper:a.b.form(f()),btn:D},q={wrapper:a.b.thead(p(),"#495F75","#C2F1DB"),sectionStyle:a.b.th(m()),section:e=>o.a.createElement(q.sectionStyle,{className:"icon-Sort"},e.children)},I={emailCell:a.b.div(b()),middleAligned:a.b.td(d()),middleAlignedTop:a.b.td(u()),circle:a.b.span(s(),"30px","30px","#5A5D50","#FBEA58"),button:a.b.button.attrs(e=>({type:"button","aria-label":"delete"}))(l())};Object(a.a)(c())},299:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(41),o=t(7),c=t(292),l=t(4),s=t(14),u=t(277),d=t(107);var b=function(e,n,t,r){return(a,i)=>{e?r.itemsRef.push(t,(function(e){e?(a(Object(o.x)(e.message)),n.error(),a(Object(o.D)())):(setTimeout((function(){a(Object(o.q)())}),3e3),a(Object(o.B)(t)),a(Object(o.D)()))})):(a(Object(o.z)("U\u017cytkownik o tym e-mailu jest ju\u017c zarejestrowany")),a(Object(o.D)()))}};let m=e=>{const{isDisabled:n}=e;return r.createElement(d.c.btn,{type:"submit",id:"SubmitButton",disabled:n},r.createElement("span",null,"Submit"))};m=Object(i.b)(e=>({isDisabled:e.submitDisabled}),null)(m);var p=m,f=t(34),g=t(278);let h=e=>{const n=Object(r.useRef)(null),{user:t,history:i,submitFigure:o,showWarning:c,toggleSubmit:l}=e,b=Object(r.useContext)(f.a),m=a.a.useMemo(()=>({error:()=>{i.push(s.b)},loading:()=>{i.push(s.a)},home:()=>{i.push(s.c)}}),[i]);Object(r.useEffect)(()=>n.current.focus(),[n]);const{values:h,handleSubmit:j,getFieldProps:x,handleReset:O,submitCount:w,errors:y}=Object(u.a)({initialValues:{personEmail:"",personName:""},validationSchema:g.a().shape({personEmail:g.b().email("Invalid email address").required("Required"),personName:g.b().min(4,"Must be more than 3 characters").required("Required").matches("[a-zA-Z\u0105\u0104\u0107\u0107\u0119\u0119\u0142\u0141\u0144\u0143\xf3\xd3\u015b\u015a\u017c\u017b\u0179\u0179 ]+","Invalid characters")}),onSubmit(){t?(l(),b.itemsRef.orderByChild("email").equalTo(h.personEmail).once("value",e=>{const n=!e.exists();o(n,m,{name:h.personName,email:h.personEmail,user:t.displayName||t.email},b)})):c("Tylko zalogowani u\u017cytkownicy mog\u0105 dodawa\u0107 postacie")}});return a.a.createElement(d.c.outerWrapper,{onSubmit:j},a.a.createElement(d.c.innerWrapper,null,a.a.createElement(d.c.input,Object.assign({required:!0,minLength:"2",maxLength:"20",pattern:"[a-zA-Z\u0105\u0104\u0107\u0107\u0119\u0119\u0142\u0141\u0144\u0143\xf3\xd3\u015b\u015a\u017c\u017b\u0179\u0179 ]+",placeholder:"Name...",type:"text",ref:n},x("personName")))),a.a.createElement(d.c.inputWrapper,null,a.a.createElement(d.c.input,Object.assign({minLength:"2",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",placeholder:"Email...",type:"text"},x("personEmail")))),a.a.createElement(p,null),!(""===h.personName&&""===h.personEmail)&&a.a.createElement(d.c.resetWrapper,{onClick:O},a.a.createElement(d.c.dangerMessage,null,a.a.createElement("u",null," Reset Fields"))),w>0&&y&&a.a.createElement("span",{className:"AddPersonForm__error-message"},JSON.stringify(y,null,2).substring(1,JSON.stringify(y,null,2).length-1)))};h=Object(l.g)(Object(i.b)(e=>({user:e.user}),e=>({showWarning:n=>{e(Object(o.z)(n))},showError:n=>{e(Object(o.x)(n))},hideAddedUserMessage:()=>{e(Object(o.q)())},submitFigure:(n,t,r,a)=>{e(b(n,t,r,a))},toggleSubmit:()=>{e(Object(o.D)())}}))(h));var j=h;let x=e=>{const{isHiddenAddUserButton:n,isHiddenAddedUserMsg:t,isHiddenInputForm:r,isNotLimitReached:i,onAddUser:o}=e,c=()=>i?a.a.createElement(d.e.btn,{id:"AddUserButton",type:"button",onClick:i?o:function(){}},a.a.createElement(d.e.iconCross,null),a.a.createElement(d.e.btnText,null,"Add User")):a.a.createElement(d.e.btn_disabled,null,a.a.createElement(d.e.iconCross,null),a.a.createElement(d.e.btnText,null,"Add User"));return a.a.createElement(d.e.wrapper,null,!n&&a.a.createElement(c,null),!t&&a.a.createElement(d.e.successMessage,null,a.a.createElement(d.e.iconCheck,null),a.a.createElement("span",null," You have succesfully added an user ")),!r&&a.a.createElement(j,null),!i&&a.a.createElement(d.e.dangerMessage,null,a.a.createElement(d.e.iconLimit,null),a.a.createElement("span",null," You have reached the limit")))};x=Object(i.b)(e=>({isHiddenAddUserButton:e.isHiddenAddUserButton,isHiddenAddedUserMsg:e.isHiddenAddedUserMsg,isHiddenInputForm:e.isHiddenInputForm,isNotLimitReached:e.isNotLimitReached}),e=>({onAddUser:()=>e(Object(o.w)())}))(x);var O=x,w=t(50);var y=t(51);const E=Object(r.lazy)(()=>Promise.all([t.e(0),t.e(1),t.e(11)]).then(t.bind(null,296))),v=Object(r.lazy)(()=>t.e(2).then(t.bind(null,303))),z=Object(r.lazy)(()=>Promise.all([t.e(0),t.e(7)]).then(t.bind(null,297))),k=Object(r.lazy)(()=>Promise.all([t.e(0),t.e(14)]).then(t.bind(null,304))),A=Object(r.lazy)(()=>t.e(16).then(t.bind(null,305))),F=Object(r.lazy)(()=>Promise.all([t.e(0),t.e(9)]).then(t.bind(null,300))),C=Object(r.lazy)(()=>Promise.all([t.e(0),t.e(8),t.e(15)]).then(t.bind(null,298)));const B=Object(i.b)(e=>({isError:e.isError,errorMessage:e.errorMessage,isLoading:e.isLoading,user:e.user}),(function(e){return{login:n=>e(Object(o.u)(n)),hideError:()=>e(Object(o.r)()),load:(n,t)=>{return e((r=n,a=t,(e,n)=>{a.connectedRef.on("value",(function(n){!0===n.val()?e(Object(o.y)("Ustanowiono lub przywr\xf3cono po\u0142\u0105czenie z baz\u0105 danych")):(e(Object(o.x)("W tej chwili nie masz po\u0142\u0105czenia z baz\u0105. Wskazane jest aby\u015b nie wykonywa\u0142 operacji zapisu i odczytu, gdy\u017c maj\u0105 one wy\u0142acznie lokalny zasi\u0119g i nie zmieniaj\u0105 bazy")),r.error())})),e(Object(o.C)()),r.loading(),a.itemsRef.on("value",t=>{const a=t.val();if(!a)return e(Object(o.x)("Baza jest pusta lub wyst\u0105pi\u0142 problem z po\u0142\u0105czeniem")),void r.error();for(let e in a){const n=a[e],t=[e];t[1]=n.name,t[2]=n.email,t[3]=n.user,a[e]=t}const i=n().columnSortBy;i?e(Object(o.p)(Object(w.a)(Object.values(a),n().isSortDescending,i))):a&&e(Object(o.p)(Object.values(a))),e(Object(o.C)()),r.home()},e=>{Object(o.x)(e),r.error()}),a.auth.onAuthStateChanged(n=>{n&&e(Object(o.u)(n))})}));var r,a}}}))((function(e){const{isLoading:n,user:t,load:i,history:o}={...e},l=Object(r.useContext)(f.a),u=a.a.useMemo(()=>({error:()=>{o.push(s.b)},loading:()=>{o.push(s.a)},home:()=>{o.push(s.c)}}),[o]);return Object(r.useEffect)(()=>{u&&l&&i(u,l)},[l,u,i]),a.a.createElement(a.a.Fragment,null,a.a.createElement(r.Suspense,{fallback:Object(y.a)()},a.a.createElement(E,null),a.a.createElement(F,{user:t}),a.a.createElement(v,{visible:n}),a.a.createElement(d.a.App,null,a.a.createElement(k,null),a.a.createElement(c.a,{in:!0,timeout:2e3},a.a.createElement(d.a.tableWrapper,null,a.a.createElement(O,null),a.a.createElement(d.a.table,null,a.a.createElement(A,null),a.a.createElement(z,null))))),a.a.createElement(C,null)))}));n.default=B}}]);
//# sourceMappingURL=10.c8c31e2e.chunk.js.map