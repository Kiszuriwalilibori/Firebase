"use strict";(self.webpackChunkfirebase=self.webpackChunkfirebase||[]).push([[396],{8396:(e,n,r)=>{r.r(n),r.d(n,{default:()=>S});var i=r(2791),s=r(4233),o=r(6519),t=r(1076),a=r(9271),d=r(9590),l=r(2506),c=r(3523);const p=function(e,n,r,i){return(s,t)=>{e?i.itemsRef.push(r,(function(e){e?(s((0,o.x2)(e.message)),n.error(),s((0,o.nv)())):(setTimeout((function(){s((0,o.c9)())}),3e3),s((0,o.j3)(r)),s((0,o.nv)()))})):(s((0,o.K2)("U\u017cytkownik o tym e-mailu jest ju\u017c zarejestrowany")),s((0,o.nv)()))}};var u=r(184);let m=e=>{const{isDisabled:n}=e;return(0,u.jsx)(c.II.btn,{type:"submit",id:"SubmitButton",disabled:n,children:(0,u.jsx)("span",{children:"Submit"})})};m=(0,s.$j)((e=>({isDisabled:e.submitDisabled})),null)(m);const x=m;var h=r(521),g=r(1724);let b=e=>{const n=(0,i.useRef)(null),{user:r,history:s,submitFigure:o,showWarning:t,toggleSubmit:a}=e,p=(0,i.useContext)(h.f),m=i.useMemo((()=>({error:()=>{s.push(d.pn)},loading:()=>{s.push(d.JD)},home:()=>{s.push(d.Sd)}})),[s]);(0,i.useEffect)((()=>n.current.focus()),[n]);const{values:b,handleSubmit:f,getFieldProps:j,handleReset:y,submitCount:w,errors:Z}=(0,l.TA)({initialValues:{personEmail:"",personName:""},validationSchema:g.Ry().shape({personEmail:g.Z_().email("Invalid email address").required("Required"),personName:g.Z_().min(4,"Must be more than 3 characters").required("Required").matches("[a-zA-Z\u0105\u0104\u0107\u0107\u0119\u0119\u0142\u0141\u0144\u0143\xf3\xd3\u015b\u015a\u017c\u017b\u0179\u0179 ]+","Invalid characters")}),onSubmit(){r?(a(),p.itemsRef.orderByChild("email").equalTo(b.personEmail).once("value",(e=>{const n=!e.exists();o(n,m,{name:b.personName,email:b.personEmail,user:r.displayName||r.email},p)}))):t("Tylko zalogowani u\u017cytkownicy mog\u0105 dodawa\u0107 postacie")}});return(0,u.jsxs)(c.II.outerWrapper,{onSubmit:f,children:[(0,u.jsx)(c.II.innerWrapper,{children:(0,u.jsx)(c.II.input,{required:!0,minLength:"2",maxLength:"20",pattern:"[a-zA-Z\u0105\u0104\u0107\u0107\u0119\u0119\u0142\u0141\u0144\u0143\xf3\xd3\u015b\u015a\u017c\u017b\u0179\u0179 ]+",placeholder:"Name...",type:"text",ref:n,...j("personName")})}),(0,u.jsx)(c.II.inputWrapper,{children:(0,u.jsx)(c.II.input,{minLength:"2",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",placeholder:"Email...",type:"text",...j("personEmail")})}),(0,u.jsx)(x,{}),!(""===b.personName&&""===b.personEmail)&&(0,u.jsx)(c.II.resetWrapper,{onClick:y,children:(0,u.jsx)(c.II.dangerMessage,{children:(0,u.jsx)("u",{children:" Reset Fields"})})}),w>0&&Z&&(0,u.jsx)("span",{className:"AddPersonForm__error-message",children:JSON.stringify(Z,null,2).substring(1,JSON.stringify(Z,null,2).length-1)})]})};b=(0,a.EN)((0,s.$j)((e=>({user:e.user})),(e=>({showWarning:n=>{e((0,o.K2)(n))},showError:n=>{e((0,o.x2)(n))},hideAddedUserMessage:()=>{e((0,o.c9)())},submitFigure:(n,r,i,s)=>{e(p(n,r,i,s))},toggleSubmit:()=>{e((0,o.nv)())}})))(b));const f=b;let j=e=>{const{isHiddenAddUserButton:n,isHiddenAddedUserMsg:r,isHiddenInputForm:i,isNotLimitReached:s,onAddUser:o}=e,t=()=>s?(0,u.jsxs)(c.uV.btn,{id:"AddUserButton",type:"button",onClick:s?o:function(){},children:[(0,u.jsx)(c.uV.iconCross,{}),(0,u.jsx)(c.uV.btnText,{children:"Add User"})]}):(0,u.jsxs)(c.uV.btn_disabled,{children:[(0,u.jsx)(c.uV.iconCross,{}),(0,u.jsx)(c.uV.btnText,{children:"Add User"})]});return(0,u.jsxs)(c.uV.wrapper,{children:[!n&&(0,u.jsx)(t,{}),!r&&(0,u.jsxs)(c.uV.successMessage,{children:[(0,u.jsx)(c.uV.iconCheck,{}),(0,u.jsx)("span",{children:" You have succesfully added an user "})]}),!i&&(0,u.jsx)(f,{}),!s&&(0,u.jsxs)(c.uV.dangerMessage,{children:[(0,u.jsx)(c.uV.iconLimit,{}),(0,u.jsx)("span",{children:" You have reached the limit"})]})]})};j=(0,s.$j)((e=>({isHiddenAddUserButton:e.isHiddenAddUserButton,isHiddenAddedUserMsg:e.isHiddenAddedUserMsg,isHiddenInputForm:e.isHiddenInputForm,isNotLimitReached:e.isNotLimitReached})),(e=>({onAddUser:()=>e((0,o.Pd)())})))(j);const y=j;var w=r(4581);var Z=r(7337);const v=(0,i.lazy)((()=>Promise.all([r.e(425),r.e(992),r.e(477)]).then(r.bind(r,6477)))),z=(0,i.lazy)((()=>r.e(880).then(r.bind(r,3880)))),P=(0,i.lazy)((()=>Promise.all([r.e(425),r.e(549)]).then(r.bind(r,7549)))),k=(0,i.lazy)((()=>Promise.all([r.e(425),r.e(579)]).then(r.bind(r,5579)))),I=(0,i.lazy)((()=>r.e(705).then(r.bind(r,5705)))),A=(0,i.lazy)((()=>Promise.all([r.e(425),r.e(231)]).then(r.bind(r,2231)))),M=(0,i.lazy)((()=>Promise.all([r.e(425),r.e(992),r.e(251)]).then(r.bind(r,5251))));const C=(0,s.$j)((e=>({isError:e.isError,errorMessage:e.errorMessage,isLoading:e.isLoading,user:e.user})),(function(e){return{login:n=>e((0,o.x4)(n)),hideError:()=>e((0,o.k)()),load:(n,r)=>{return e((i=n,s=r,(e,n)=>{s.connectedRef.on("value",(function(n){!0===n.val()?e((0,o.PV)("Ustanowiono lub przywr\xf3cono po\u0142\u0105czenie z baz\u0105 danych")):(e((0,o.x2)("W tej chwili nie masz po\u0142\u0105czenia z baz\u0105. Wskazane jest aby\u015b nie wykonywa\u0142 operacji zapisu i odczytu, gdy\u017c maj\u0105 one wy\u0142acznie lokalny zasi\u0119g i nie zmieniaj\u0105 bazy")),i.error())})),e((0,o.Qu)()),i.loading(),s.itemsRef.on("value",(r=>{const s=r.val();if(!s)return e((0,o.x2)("Baza jest pusta lub wyst\u0105pi\u0142 problem z po\u0142\u0105czeniem")),void i.error();for(let e in s){const n=s[e],r=[e];r[1]=n.name,r[2]=n.email,r[3]=n.user,s[e]=r}const t=n().columnSortBy;t?e((0,o.sY)((0,w.CU)(Object.values(s),n().isSortDescending,t))):s&&e((0,o.sY)(Object.values(s))),e((0,o.Qu)()),i.home()}),(e=>{(0,o.x2)(e),i.error()})),s.auth.onAuthStateChanged((n=>{n&&e((0,o.x4)(n))}))}));var i,s}}}))((function(e){const{isLoading:n,user:r,load:s,history:o}={...e},a=(0,i.useContext)(h.f),l=i.useMemo((()=>({error:()=>{o.push(d.pn)},loading:()=>{o.push(d.JD)},home:()=>{o.push(d.Sd)}})),[o]);return(0,i.useEffect)((()=>{l&&a&&s(l,a)}),[a,l,s]),(0,u.jsx)(i.Fragment,{children:(0,u.jsxs)(i.Suspense,{fallback:(0,Z.Z)(),children:[(0,u.jsx)(v,{}),(0,u.jsx)(A,{user:r}),(0,u.jsx)(z,{visible:n}),(0,u.jsxs)(c.Mx.App,{children:[(0,u.jsx)(k,{}),(0,u.jsx)(t.Z,{in:!0,timeout:2e3,children:(0,u.jsxs)(c.Mx.tableWrapper,{children:[(0,u.jsx)(y,{}),(0,u.jsxs)(c.Mx.table,{children:[(0,u.jsx)(I,{}),(0,u.jsx)(P,{})]})]})})]}),(0,u.jsx)(M,{})]})})})),S=C},3523:(e,n,r)=>{r.d(n,{II:()=>T,Mx:()=>L,QZ:()=>q,TR:()=>D,h4:()=>_,uV:()=>H});var i,s,o,t,a,d,l,c,p,u,m,x,h,g,b,f,j,y,w,Z,v,z,P,k,I,A,M=r(168),C=r(5751),S=(r(2791),r(184));const F="#495F75",N="#C2F1DB",E="#C2F1DB",U="30px",B="#FBEA58",R=C.ZP.div(i||(i=(0,M.Z)(["margin 0 1rem; color: grey;"]))),V=C.ZP.button(s||(s=(0,M.Z)(["\ndisplay: inline-block;\nfont-weight: 700;\ntext-align: center;\nwhite-space: nowrap;\nvertical-align: middle;\nuser-select: none;\nborder: 1px solid #C2F1DB;\npadding: .375rem 3rem;\nmargin: 0.5rem;\nfont-size: 1rem;\nline-height: 1.5;\nborder-radius: .25rem;\noverflow: visible;\ncolor:#C2F1DB;\nbackground-color:transparent;\ncursor: pointer;\ntransition: color .3s ease-in-out,background-color .3s ease-in-out,border-color .3s ease-in-out,box-shadow .3s ease-in-out;\n&:hover, &:focus{\n  color: #495F75;\n  outline:none;\n  background-color: #C2F1DB;\n  border-color: transparent;\n}\n\n"]))),W=(0,C.ZP)(V)(o||(o=(0,M.Z)(["\nopacity: 0.5;\ncursor: default;\n&:hover{color:gold;background-color:transparent;border-color:gold;}\n"]))),L={App:C.ZP.div(t||(t=(0,M.Z)(["\n  overflow-y: auto;\n  display: flex;\n  min-height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  padding-top: 20vh;\n  width: 100%;\n  max-width:800px;\n  margin: 0 auto;\n"]))),tableWrapper:C.ZP.main(a||(a=(0,M.Z)(["\n  width: 96%;\n  border-radius: 0.25rem;\n  border: 1px solid #3c5063;\n  box-shadow: 0 1px 1px rgba(0,0,0,0.15), \n              0 2px 2px rgba(0,0,0,0.15), \n              0 4px 4px rgba(0,0,0,0.15), \n              0 8px 8px rgba(0,0,0,0.15);\n  font-size: 1rem;\n  line-height:1.5;\n  font-family: 'Lato', sans-serif;\n  margin: 1vw 1vw;\n  @media(max-width:569px){ font-size: calc( 12px + 4 * ((100vw - 320px) / 249))}\n\n"]))),table:C.ZP.table(d||(d=(0,M.Z)(["\nwidth:100%;\noverflow-y: hidden;\noverflow-x: auto;\nbox-shadow: inset 0 1px 1px rgba(200,200,200,0.11);\n\n@media(max-width: 300px){display:block};\n\n@media(min-width: 569px){ overflow-y: visible;}"])))},D={wrapper:C.ZP.header(l||(l=(0,M.Z)(["\ndisplay: flex;\nwidth: 100%;\nflex-direction: row;\njustify-content: space-evenly;\nalign-items: center;\npadding: 4vh 0;\n\n@media(max-width: 568px) {\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n"]))),page:C.ZP.a.attrs((e=>({href:"https://unamo.com/pl/",target:"_blank",rel:"noopener"})))(c||(c=(0,M.Z)(["\n    font-size: 1.5rem;\n    color: ",";\n    font-family: 'Lato', sans-serif;\n    "])),"rgb(0, 193, 179)")},H={wrapper:C.ZP.div(p||(p=(0,M.Z)(["\n  display: flex;\n  min-height: 4.2rem;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: ",";\n  border: 0;\n\n  @media(min-width: 569px){\n      flex-direction: row;\n  }\n  \n"])),"#495F75"),successMessage:(0,C.ZP)(R)(u||(u=(0,M.Z)(["color: ",""])),"#39ff14"),dangerMessage:(0,C.ZP)(R)(m||(m=(0,M.Z)(["color:",""])),B),btn:V,btn_disabled:W,btnText:C.ZP.span(x||(x=(0,M.Z)(["margin-left: 1rem"]))),iconCheck:()=>(0,S.jsx)("span",{className:"IcoMoon",children:"\ue900"}),iconCross:()=>(0,S.jsx)("span",{className:"IcoMoon",children:"\ue902"}),iconLimit:()=>(0,S.jsx)("span",{className:"IcoMoon",children:"\ue901"})},T={dangerMessage:C.ZP.span(h||(h=(0,M.Z)(["letter-spacing: 0.08rem; font-weight:700; cursor: pointer;color:",""])),B),input:C.ZP.input(g||(g=(0,M.Z)(["border:0;cursor:pointer; overflow: visible; font-size: 16px; padding: 0.3rem;background-color:","; color:",""])),N,F),resetWrapper:C.ZP.div(b||(b=(0,M.Z)(["display:inline"]))),innerWrapper:C.ZP.div(f||(f=(0,M.Z)(["display:inline; padding: 0.25rem; margin:0.5rem; border-radius:0.25rem; border: 1px solid ",";"])),E),inputWrapper:C.ZP.div(j||(j=(0,M.Z)(["display:inline; padding: 0.25rem; margin:0.5rem; border-radius:0.25rem; border: 1px solid ",";"])),E),outerWrapper:C.ZP.form(y||(y=(0,M.Z)(["\n  display:flex; \n  flex-direction:column; \n  padding:0.5rem; \n  align-items:center; \n  flex-wrap:wrap;\n  @media(min-width: 569px){ flex-direction: row; justify-content:center;}  \n  "]))),btn:V},_={wrapper:C.ZP.thead(w||(w=(0,M.Z)(["background-color:","; color:",""])),F,N),sectionStyle:C.ZP.th(Z||(Z=(0,M.Z)(["\ncursor: pointer;\ntext-align: left;\n@media(max-width: 568px) {padding 0.75rem 0}\n@media(min-width: 569px) {padding 0.75rem}\n\nvertical-align:top;\nborder-top: 1px solid;\n"]))),section:e=>(0,S.jsx)(_.sectionStyle,{className:"icon-Sort",children:e.children})},q={emailCell:C.ZP.div(v||(v=(0,M.Z)(["display:flex; justify-content: space-between; align-items:center"]))),middleAligned:C.ZP.td(z||(z=(0,M.Z)(["vertical-align: middle; padding:0.75rem; border-top: 1px solid"]))),middleAlignedTop:C.ZP.td(P||(P=(0,M.Z)(["vertical-align: top; padding:0.75rem; border-top: 1px solid"]))),circle:C.ZP.span(k||(k=(0,M.Z)(["\n  text-shadow: 0 -.03rem .03rem;\n  font-weight: 100; \n  width:","; \n  height:","; \n  color:","; \n  border: 1px solid; \n  border-radius:50%; \n  display:flex; \n  justify-content:center; \n  align-items: center; \n  background-color:",";\n  @media(max-width:569px){ width: calc( 20px + 10 * ((100vw - 320px) / 249)); height:calc( 20px + 10 * ((100vw - 320px) / 249)); }\n  "])),U,U,"#5A5D50",B),button:C.ZP.button.attrs((e=>({type:"button","aria-label":"delete"})))(I||(I=(0,M.Z)(["background: transparent; border-radius:50%; border:none;"])))};(0,C.vJ)(A||(A=(0,M.Z)(["\nbody {color: gold; \n}; \n* {box-sizing: border-box}\n\n*{@import url('./styles/App.css');\n\n}\n\n\n\nhtml {\n\n  font-size: 12px;\n  \n  @media \n    (max-width: 330px){ font-size:10px;}\n  @media \n    (min-width: 331px)and (max-width: 568px) { font-size:12px;}\n     \n  @media \n    (min-width: 569px){ font-size:16px;}\n  \n \n\n}\n"])))}}]);
//# sourceMappingURL=396.20d3bc41.chunk.js.map