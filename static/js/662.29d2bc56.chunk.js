"use strict";(self.webpackChunkfirebase=self.webpackChunkfirebase||[]).push([[662],{8662:(n,e,r)=>{r.r(e),r.d(e,{default:()=>C});var i=r(2791),s=r(4233),o=r(6519),t=r(1076),a=r(9271),d=r(1803),l=r(2506),c=r(3523);const p=function(n,e,r,i){return(s,t)=>{n?i.itemsRef.push(r,(function(n){n?(s((0,o.x2)(n.message)),e.error(),s((0,o.nv)())):(setTimeout((function(){s((0,o.c9)())}),3e3),s((0,o.j3)(r)),s((0,o.nv)()))})):(s((0,o.K2)("U\u017cytkownik o tym e-mailu jest ju\u017c zarejestrowany")),s((0,o.nv)()))}};var u=r(184);let m=n=>{const{isDisabled:e}=n;return(0,u.jsx)(c.II.btn,{type:"submit",id:"SubmitButton",disabled:e,children:(0,u.jsx)("span",{children:"Submit"})})};m=(0,s.$j)((n=>({isDisabled:n.submitDisabled})),null)(m);const x=m;var h=r(521),b=r(1724);let g=n=>{const e=(0,i.useRef)(null),{user:r,history:s,submitFigure:o,showWarning:t,toggleSubmit:a}=n,p=(0,i.useContext)(h.f),m=i.useMemo((()=>({error:()=>{s.push(d.pn)},loading:()=>{s.push(d.JD)},home:()=>{s.push(d.JG)}})),[s]);(0,i.useEffect)((()=>e.current.focus()),[e]);const{values:g,handleSubmit:f,getFieldProps:j,handleReset:y,submitCount:w,errors:Z}=(0,l.TA)({initialValues:{personEmail:"",personName:""},validationSchema:b.Ry().shape({personEmail:b.Z_().email("Invalid email address").required("Required"),personName:b.Z_().min(4,"Must be more than 3 characters").required("Required").matches("[a-zA-Z\u0105\u0104\u0107\u0107\u0119\u0119\u0142\u0141\u0144\u0143\xf3\xd3\u015b\u015a\u017c\u017b\u0179\u0179 ]+","Invalid characters")}),onSubmit(){r?(a(),p.itemsRef.orderByChild("email").equalTo(g.personEmail).once("value",(n=>{const e=!n.exists();o(e,m,{name:g.personName,email:g.personEmail,user:r.displayName||r.email},p)}))):t("Tylko zalogowani u\u017cytkownicy mog\u0105 dodawa\u0107 postacie")}});return(0,u.jsxs)(c.II.outerWrapper,{onSubmit:f,children:[(0,u.jsx)(c.II.innerWrapper,{children:(0,u.jsx)(c.II.input,{required:!0,minLength:"2",maxLength:"20",pattern:"[a-zA-Z\u0105\u0104\u0107\u0107\u0119\u0119\u0142\u0141\u0144\u0143\xf3\xd3\u015b\u015a\u017c\u017b\u0179\u0179 ]+",placeholder:"Name...",type:"text",ref:e,...j("personName")})}),(0,u.jsx)(c.II.inputWrapper,{children:(0,u.jsx)(c.II.input,{minLength:"2",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",placeholder:"Email...",type:"text",...j("personEmail")})}),(0,u.jsx)(x,{}),!(""===g.personName&&""===g.personEmail)&&(0,u.jsx)(c.II.resetWrapper,{onClick:y,children:(0,u.jsx)(c.II.dangerMessage,{children:(0,u.jsx)("u",{children:" Reset Fields"})})}),w>0&&Z&&(0,u.jsx)("span",{className:"AddPersonForm__error-message",children:JSON.stringify(Z,null,2).substring(1,JSON.stringify(Z,null,2).length-1)})]})};g=(0,a.EN)((0,s.$j)((n=>({user:n.user})),(n=>({showWarning:e=>{n((0,o.K2)(e))},showError:e=>{n((0,o.x2)(e))},hideAddedUserMessage:()=>{n((0,o.c9)())},submitFigure:(e,r,i,s)=>{n(p(e,r,i,s))},toggleSubmit:()=>{n((0,o.nv)())}})))(g));const f=g;let j=n=>{const{isHiddenAddUserButton:e,isHiddenAddedUserMsg:r,isHiddenInputForm:i,isNotLimitReached:s,onAddUser:o}=n,t=()=>s?(0,u.jsxs)(c.uV.btn,{id:"AddUserButton",type:"button",onClick:s?o:function(){},children:[(0,u.jsx)(c.uV.iconCross,{}),(0,u.jsx)(c.uV.btnText,{children:"Add User"})]}):(0,u.jsxs)(c.uV.btn_disabled,{children:[(0,u.jsx)(c.uV.iconCross,{}),(0,u.jsx)(c.uV.btnText,{children:"Add User"})]});return(0,u.jsxs)(c.uV.wrapper,{children:[!e&&(0,u.jsx)(t,{}),!r&&(0,u.jsxs)(c.uV.successMessage,{children:[(0,u.jsx)(c.uV.iconCheck,{}),(0,u.jsx)("span",{children:" You have succesfully added an user "})]}),!i&&(0,u.jsx)(f,{}),!s&&(0,u.jsxs)(c.uV.dangerMessage,{children:[(0,u.jsx)(c.uV.iconLimit,{}),(0,u.jsx)("span",{children:" You have reached the limit"})]})]})};j=(0,s.$j)((n=>({isHiddenAddUserButton:n.isHiddenAddUserButton,isHiddenAddedUserMsg:n.isHiddenAddedUserMsg,isHiddenInputForm:n.isHiddenInputForm,isNotLimitReached:n.isNotLimitReached})),(n=>({onAddUser:()=>n((0,o.Pd)())})))(j);const y=j;var w=r(4581);const Z=(0,i.lazy)((()=>Promise.all([r.e(425),r.e(992),r.e(477)]).then(r.bind(r,6477)))),v=(0,i.lazy)((()=>r.e(880).then(r.bind(r,3880)))),z=(0,i.lazy)((()=>Promise.all([r.e(425),r.e(549)]).then(r.bind(r,7549)))),P=(0,i.lazy)((()=>Promise.all([r.e(425),r.e(579)]).then(r.bind(r,5579)))),k=(0,i.lazy)((()=>r.e(153).then(r.bind(r,7153)))),I=(0,i.lazy)((()=>Promise.all([r.e(425),r.e(231)]).then(r.bind(r,2231)))),A=(0,i.lazy)((()=>Promise.all([r.e(425),r.e(992),r.e(251)]).then(r.bind(r,5251))));const M=(0,s.$j)((n=>({isError:n.isError,errorMessage:n.errorMessage,isLoading:n.isLoading,user:n.user})),(function(n){return{login:e=>n((0,o.x4)(e)),hideError:()=>n((0,o.k)()),load:(e,r)=>{return n((i=e,s=r,(n,e)=>{s.connectedRef.on("value",(function(e){!0===e.val()?n((0,o.PV)("Ustanowiono lub przywr\xf3cono po\u0142\u0105czenie z baz\u0105 danych")):(n((0,o.x2)("W tej chwili nie masz po\u0142\u0105czenia z baz\u0105. Wskazane jest aby\u015b nie wykonywa\u0142 operacji zapisu i odczytu, gdy\u017c maj\u0105 one wy\u0142acznie lokalny zasi\u0119g i nie zmieniaj\u0105 bazy")),i.error())})),n((0,o.Qu)()),i.loading(),s.itemsRef.on("value",(r=>{const s=r.val();if(!s)return n((0,o.x2)("Baza jest pusta lub wyst\u0105pi\u0142 problem z po\u0142\u0105czeniem")),void i.error();for(let n in s){const e=s[n],r=[n];r[1]=e.name,r[2]=e.email,r[3]=e.user,s[n]=r}const t=e().columnSortBy;t?n((0,o.sY)((0,w.CU)(Object.values(s),e().isSortDescending,t))):s&&n((0,o.sY)(Object.values(s))),n((0,o.Qu)()),i.home()}),(n=>{(0,o.x2)(n),i.error()})),s.auth.onAuthStateChanged((e=>{e&&n((0,o.x4)(e))}))}));var i,s}}}))((function(n){const{isLoading:e,user:r,load:s,history:o}={...n},a=(0,i.useContext)(h.f),l=i.useMemo((()=>({error:()=>{o.push(d.pn)},loading:()=>{o.push(d.JD)},home:()=>{o.push(d.JG)}})),[o]);return(0,i.useEffect)((()=>{l&&a&&s(l,a)}),[a,l,s]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(i.Suspense,{fallback:null,children:[(0,u.jsx)(Z,{}),(0,u.jsx)(I,{user:r}),(0,u.jsx)(v,{visible:e}),(0,u.jsxs)(c.Mx.App,{children:[(0,u.jsx)(P,{}),(0,u.jsx)(t.Z,{in:!0,timeout:2e3,children:(0,u.jsxs)(c.Mx.TableWrapper,{children:[(0,u.jsx)(y,{}),(0,u.jsxs)(c.Mx.Table,{children:[(0,u.jsx)(k,{}),(0,u.jsx)(z,{})]})]})})]}),(0,u.jsx)(A,{})]})})})),C=M},3523:(n,e,r)=>{r.d(e,{II:()=>H,Mx:()=>T,QZ:()=>_,TR:()=>B,h4:()=>J,uV:()=>D});var i,s,o,t,a,d,l,c,p,u,m,x,h,b,g,f,j,y,w,Z,v,z,P,k,I,A,M=r(168),C=r(5751),N=(r(2791),r(184));const S="#495F75",E="#C2F1DB",U="#C2F1DB",F="30px",R="#FBEA58",V=C.ZP.div(i||(i=(0,M.Z)(["margin 0 1rem; color: grey;"]))),W=C.ZP.button(s||(s=(0,M.Z)(["\n    display: inline-block;\n    font-weight: 700;\n    text-align: center;\n    white-space: nowrap;\n    vertical-align: middle;\n    user-select: none;\n    border: 1px solid #c2f1db;\n    padding: 0.375rem 3rem;\n    margin: 0.5rem;\n    font-size: 1rem;\n    line-height: 1.5;\n    border-radius: 0.25rem;\n    overflow: visible;\n    color: #c2f1db;\n    background-color: transparent;\n    cursor: pointer;\n    transition: color 0.3s ease-in-out, background-color 0.3s ease-in-out, border-color 0.3s ease-in-out,\n        box-shadow 0.3s ease-in-out;\n    &:hover,\n    &:focus {\n        color: #495f75;\n        outline: none;\n        background-color: #c2f1db;\n        border-color: transparent;\n    }\n"]))),L=(0,C.ZP)(W)(o||(o=(0,M.Z)(["\n    opacity: 0.5;\n    cursor: default;\n    &:hover {\n        color: gold;\n        background-color: transparent;\n        border-color: gold;\n    }\n"]))),T={App:C.ZP.div(t||(t=(0,M.Z)(["\n        overflow-y: auto;\n        display: flex;\n        min-height: 100%;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-start;\n        padding-top: 20vh;\n        width: 100%;\n        max-width: 800px;\n        margin: 0 auto;\n    "]))),TableWrapper:C.ZP.main(a||(a=(0,M.Z)(["\n        width: 96%;\n        border-radius: 0.25rem;\n        border: 1px solid #3c5063;\n        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.15), 0 2px 2px rgba(0, 0, 0, 0.15),\n            0 4px 4px rgba(0, 0, 0, 0.15), 0 8px 8px rgba(0, 0, 0, 0.15);\n        font-size: 1rem;\n        line-height: 1.5;\n        font-family: 'Lato', sans-serif;\n        margin: 1vw 1vw;\n        @media (max-width: 569px) {\n            font-size: calc(12px + 4 * ((100vw - 320px) / 249));\n        }\n    "]))),Table:C.ZP.table(d||(d=(0,M.Z)(["\n        width: 100%;\n        overflow-y: hidden;\n        overflow-x: auto;\n        box-shadow: inset 0 1px 1px rgba(200, 200, 200, 0.11);\n\n        @media (max-width: 300px) {\n            display: block;\n        }\n\n        @media (min-width: 569px) {\n            overflow-y: visible;\n        }\n    "])))},B={wrapper:C.ZP.header(l||(l=(0,M.Z)(["\n        display: flex;\n        width: 100%;\n        flex-direction: row;\n        justify-content: space-evenly;\n        align-items: center;\n        padding: 4vh 0;\n\n        @media (max-width: 568px) {\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n        }\n    "]))),page:C.ZP.a.attrs((n=>({href:"https://unamo.com/pl/",target:"_blank",rel:"noopener"})))(c||(c=(0,M.Z)(["\n        font-size: 1.5rem;\n        color: ",";\n        font-family: 'Lato', sans-serif;\n    "])),"rgb(0, 193, 179)")},D={wrapper:C.ZP.div(p||(p=(0,M.Z)(["\n        display: flex;\n        min-height: 4.2rem;\n        flex-direction: column;\n        justify-content: flex-start;\n        align-items: center;\n        background-color: ",";\n        border: 0;\n\n        @media (min-width: 569px) {\n            flex-direction: row;\n        }\n    "])),"#495F75"),successMessage:(0,C.ZP)(V)(u||(u=(0,M.Z)(["\n        color: ",";\n    "])),"#39ff14"),dangerMessage:(0,C.ZP)(V)(m||(m=(0,M.Z)(["\n        color: ",";\n    "])),R),btn:W,btn_disabled:L,btnText:C.ZP.span(x||(x=(0,M.Z)(["\n        margin-left: 1rem;\n    "]))),iconCheck:()=>(0,N.jsx)("span",{className:"IcoMoon",children:"\ue900"}),iconCross:()=>(0,N.jsx)("span",{className:"IcoMoon",children:"\ue902"}),iconLimit:()=>(0,N.jsx)("span",{className:"IcoMoon",children:"\ue901"})},H={dangerMessage:C.ZP.span(h||(h=(0,M.Z)(["\n        letter-spacing: 0.08rem;\n        font-weight: 700;\n        cursor: pointer;\n        color: ",";\n    "])),R),input:C.ZP.input(b||(b=(0,M.Z)(["\n        border: 0;\n        cursor: pointer;\n        overflow: visible;\n        font-size: 16px;\n        padding: 0.3rem;\n        background-color: ",";\n        color: ",";\n    "])),E,S),resetWrapper:C.ZP.div(g||(g=(0,M.Z)(["\n        display: inline;\n    "]))),innerWrapper:C.ZP.div(f||(f=(0,M.Z)(["\n        display: inline;\n        padding: 0.25rem;\n        margin: 0.5rem;\n        border-radius: 0.25rem;\n        border: 1px solid ",";\n    "])),U),inputWrapper:C.ZP.div(j||(j=(0,M.Z)(["\n        display: inline;\n        padding: 0.25rem;\n        margin: 0.5rem;\n        border-radius: 0.25rem;\n        border: 1px solid ",";\n    "])),U),outerWrapper:C.ZP.form(y||(y=(0,M.Z)(["\n        display: flex;\n        flex-direction: column;\n        padding: 0.5rem;\n        align-items: center;\n        flex-wrap: wrap;\n        @media (min-width: 569px) {\n            flex-direction: row;\n            justify-content: center;\n        }\n    "]))),btn:W},J={wrapper:C.ZP.thead(w||(w=(0,M.Z)(["\n        background-color: ",";\n        color: ",";\n    "])),S,E),sectionStyle:C.ZP.th(Z||(Z=(0,M.Z)(["\ncursor: pointer;\ntext-align: left;\n@media(max-width: 568px) {padding 0.75rem 0}\n@media(min-width: 569px) {padding 0.75rem}\n\nvertical-align:top;\nborder-top: 1px solid;\n"]))),section:n=>(0,N.jsx)(J.sectionStyle,{className:"icon-Sort",children:n.children})},_={EmailCell:C.ZP.div(v||(v=(0,M.Z)(["\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    "]))),MiddleAligned:C.ZP.td(z||(z=(0,M.Z)(["\n        vertical-align: middle;\n        padding: 0.75rem;\n        border-top: 1px solid;\n    "]))),MiddleAlignedTop:C.ZP.td(P||(P=(0,M.Z)(["\n        vertical-align: top;\n        padding: 0.75rem;\n        border-top: 1px solid;\n    "]))),Circle:C.ZP.span(k||(k=(0,M.Z)(["\n        text-shadow: 0 -0.03rem 0.03rem;\n        font-weight: 100;\n        width: ",";\n        height: ",";\n        color: ",";\n        border: 1px solid;\n        border-radius: 50%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background-color: ",";\n        @media (max-width: 569px) {\n            width: calc(20px + 10 * ((100vw - 320px) / 249));\n            height: calc(20px + 10 * ((100vw - 320px) / 249));\n        }\n    "])),F,F,"#5A5D50",R),button:C.ZP.button.attrs((n=>({type:"button","aria-label":"delete"})))(I||(I=(0,M.Z)(["\n        background: transparent;\n        border-radius: 50%;\n        border: none;\n    "])))};(0,C.vJ)(A||(A=(0,M.Z)(["\nbody {color: gold; \n}; \n* {box-sizing: border-box}\n\n*{@import url('./styles/App.css');\n\n}\n\n\n\nhtml {\n\n  font-size: 12px;\n  \n  @media \n    (max-width: 330px){ font-size:10px;}\n  @media \n    (min-width: 331px)and (max-width: 568px) { font-size:12px;}\n     \n  @media \n    (min-width: 569px){ font-size:16px;}\n  \n \n\n}\n"])))}}]);
//# sourceMappingURL=662.29d2bc56.chunk.js.map